{"ast":null,"code":"import axios from 'axios';\nexport const startGetShop = ownerId => {\n  return async dispatch => {\n    try {\n      const response = await axios.get(`http://localhost:3009/api/shops/${ownerId}`, {\n        headers: {\n          Authorization: localStorage.getItem('token')\n        }\n      });\n      console.log(\"Owner ID:\", ownerId);\n      console.log(\"Token:\", localStorage.getItem('token'));\n      console.log(response.data);\n      dispatch(setShops(response.data));\n      // localStorage.setItem('shops', JSON.stringify(response.data))\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nconst setShops = shops => {\n  return {\n    type: 'SET_SHOP',\n    payload: shops\n  };\n};\nexport const startCreateShop = formData => {\n  return async dispatch => {\n    try {\n      const response = await axios.post('http://localhost:3009/api/shops', formData, {\n        headers: {\n          Authorization: localStorage.getItem('token')\n        }\n      });\n      console.log(response.data);\n      console.log(formData);\n      dispatch(createShop(response.data));\n    } catch (err) {\n      console.log(err);\n      if (err.response && err.response.data) {\n        dispatch(setServerErrors(err.response.data.errors || []));\n      }\n    }\n  };\n};\nconst createShop = data => {\n  return {\n    type: 'ADD_SHOP',\n    payload: data\n  };\n};\nexport const startUpdateShop = (id, formData) => {\n  return async dispatch => {\n    try {\n      const response = await axios.put(`http://localhost:3009/api/shops/${id}`);\n      console.log(response.data);\n      dispatch(updateShop(response.data));\n    } catch (err) {\n      // console.log(err)\n      if (err.response && err.response.data) {\n        dispatch(setServerErrors(err.response.data.errors || []));\n      }\n    }\n  };\n};\nconst updateShop = shops => {\n  return {\n    type: 'UPDATE_SHOP',\n    payload: shops\n  };\n};\nexport const fetchApprovedShops = () => {\n  return async dispatch => {\n    try {\n      const response = await axios.get('http://localhost:3009/api/shop/approved-status', {\n        headers: {\n          Authorization: localStorage.getItem('token')\n        }\n      });\n      dispatch(setApprovedShops(response.data));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nconst setApprovedShops = data => {\n  return {\n    type: 'SET_APPROVED_SHOPS',\n    payload: data\n  };\n};\nexport const clearServerErrors = () => ({\n  type: 'CLEAR_SERVER_ERRORS'\n});\nexport const startRemoveShop = id => {\n  return async dispatch => {\n    try {\n      const response = await axios.delete(`http://localhost:3009/api/shops/${id}`, {\n        headers: {\n          Authorization: localStorage.getItem('token')\n        }\n      });\n      console.log(response.data);\n      dispatch(removeShop(id));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nconst removeShop = id => {\n  return {\n    type: 'REMOVE_SHOP',\n    payload: id\n  };\n};\nexport const setServerErrors = errors => ({\n  type: 'SET_SERVER_ERRORS',\n  payload: errors\n});","map":{"version":3,"names":["axios","startGetShop","ownerId","dispatch","response","get","headers","Authorization","localStorage","getItem","console","log","data","setShops","err","shops","type","payload","startCreateShop","formData","post","createShop","setServerErrors","errors","startUpdateShop","id","put","updateShop","fetchApprovedShops","setApprovedShops","clearServerErrors","startRemoveShop","delete","removeShop"],"sources":["C:/Users/vigne/OneDrive/Desktop/portfolio chit-Gem/ChitGem-app/frontend/my-app/src/Components/Actions/shops.js"],"sourcesContent":["import axios from 'axios'\r\nexport const startGetShop = (ownerId) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await axios.get(`http://localhost:3009/api/shops/${ownerId}`, {\r\n                headers: {\r\n                    Authorization: localStorage.getItem('token')\r\n                }\r\n            })\r\n            console.log(\"Owner ID:\", ownerId)\r\n            console.log(\"Token:\", localStorage.getItem('token'))\r\n            console.log(response.data)\r\n            dispatch(setShops(response.data))\r\n            // localStorage.setItem('shops', JSON.stringify(response.data))\r\n            \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\nconst setShops = (shops)=>{\r\n    return {\r\n        type : 'SET_SHOP',\r\n        payload : shops\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const startCreateShop = (formData) => {\r\n    return async (dispatch) => {\r\n        try{\r\n            const response = await axios.post('http://localhost:3009/api/shops', formData,{\r\n                    headers : {\r\n                        Authorization : localStorage.getItem('token')\r\n                    }\r\n                })\r\n                console.log(response.data)\r\n                console.log(formData)\r\n                dispatch(createShop(response.data))\r\n        }\r\n        catch(err){\r\n            console.log(err)\r\n            if (err.response && err.response.data) {\r\n                dispatch(setServerErrors(err.response.data.errors || []))\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst createShop = (data) => {\r\n    return {\r\n        type : 'ADD_SHOP',\r\n        payload : data\r\n    }\r\n}\r\n\r\nexport const startUpdateShop = (id,formData) => {\r\n    return async (dispatch) => {\r\n        try{\r\n            const response = await axios.put(`http://localhost:3009/api/shops/${id}`)\r\n                console.log(response.data)\r\n                dispatch(updateShop(response.data))\r\n        }\r\n        catch(err){\r\n            // console.log(err)\r\n            if (err.response && err.response.data) {\r\n                dispatch(setServerErrors(err.response.data.errors || []))\r\n            }\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nconst updateShop = (shops) =>{\r\n    return{\r\n        type : 'UPDATE_SHOP',\r\n        payload : shops\r\n    }\r\n}\r\n\r\n\r\nexport const fetchApprovedShops = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await axios.get('http://localhost:3009/api/shop/approved-status',{\r\n                headers : {\r\n                    Authorization : localStorage.getItem('token')\r\n                }\r\n            })\r\n            dispatch(setApprovedShops(response.data))\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nconst setApprovedShops = (data) => {\r\n    return {\r\n        type: 'SET_APPROVED_SHOPS',\r\n        payload: data\r\n    }\r\n}\r\nexport const clearServerErrors = () => ({\r\n    type: 'CLEAR_SERVER_ERRORS'\r\n})\r\n\r\nexport const startRemoveShop = (id) => {\r\n    return async (dispatch) => {\r\n        try{\r\n            const response = await axios.delete(`http://localhost:3009/api/shops/${id}`,{\r\n                    headers : {\r\n                        Authorization : localStorage.getItem('token')\r\n                    }\r\n                })\r\n                console.log(response.data)\r\n                dispatch(removeShop(id))\r\n        }\r\n        catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nconst removeShop = (id) => {\r\n    return {\r\n        type : 'REMOVE_SHOP',\r\n        payload : id\r\n    }\r\n}\r\n\r\nexport const setServerErrors = (errors) => ({\r\n    type: 'SET_SERVER_ERRORS',\r\n    payload: errors\r\n})"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}