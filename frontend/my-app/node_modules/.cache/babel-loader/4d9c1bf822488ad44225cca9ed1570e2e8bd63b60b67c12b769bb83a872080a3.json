{"ast":null,"code":"import axios from 'axios';\nexport const startPayment = data => {\n  return async dispatch => {\n    try {\n      const response = await axios.post(\"http://localhost:3009/api/create-checkout-session\", data, {\n        headers: {\n          Authorization: localStorage.getItem('token')\n        }\n      });\n      console.log(response.data);\n      localStorage.setItem('stripId', response.data.id);\n      localStorage.setItem('invoiceId', response.data.id);\n      //localStorage.setItem('paymentId', response.data.paymentId)\n      window.location = response.data.url;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nexport const startUpdateInvoice = invoiceId => {\n  return async dispatch => {\n    try {\n      const response = await axios.put(`http://localhost:3009/api/invoices/${invoiceId}`, null, {\n        headers: {\n          Authorization: localStorage.getItem('token')\n        }\n      });\n      console.log(response.data);\n      dispatch(updateInvoice(response.data));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nconst updateInvoice = id => {\n  return {\n    type: 'START_UPDATE_INVOICE',\n    payload: id\n  };\n};","map":{"version":3,"names":["axios","startPayment","data","dispatch","response","post","headers","Authorization","localStorage","getItem","console","log","setItem","id","window","location","url","err","startUpdateInvoice","invoiceId","put","updateInvoice","type","payload"],"sources":["C:/Users/vigne/OneDrive/Desktop/portfolio chit-Gem/ChitGem-app/frontend/my-app/src/Components/Actions/ChitPayment.js"],"sourcesContent":["import axios from 'axios'\r\nexport const startPayment = (data) =>{\r\n    \r\n    return async(dispatch)=>{\r\n        try{\r\n            const response = await axios.post(\"http://localhost:3009/api/create-checkout-session\",data,{\r\n                headers:{\r\n                    Authorization:localStorage.getItem('token')\r\n                }\r\n            })\r\n            console.log(response.data)\r\n            localStorage.setItem('stripId',response.data.id)\r\n            localStorage.setItem('invoiceId', response.data.id)\r\n            //localStorage.setItem('paymentId', response.data.paymentId)\r\n            window.location = response.data.url\r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const startUpdateInvoice = (invoiceId) => {\r\n    return async (dispatch)=> {\r\n        try{\r\n            const response = await axios.put(`http://localhost:3009/api/invoices/${invoiceId}`,null,{\r\n                headers : {\r\n                    Authorization: localStorage.getItem('token')\r\n                }\r\n            })\r\n            console.log(response.data)\r\n            dispatch(updateInvoice(response.data))\r\n        }\r\n        catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst updateInvoice = (id)=>{\r\n    return {\r\n        type : 'START_UPDATE_INVOICE',\r\n        payload : id\r\n    }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,MAAMC,YAAY,GAAIC,IAAI,IAAI;EAEjC,OAAO,MAAMC,QAAQ,IAAG;IACpB,IAAG;MACC,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,mDAAmD,EAACH,IAAI,EAAC;QACvFI,OAAO,EAAC;UACJC,aAAa,EAACC,YAAY,CAACC,OAAO,CAAC,OAAO;QAC9C;MACJ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACP,QAAQ,CAACF,IAAI,CAAC;MAC1BM,YAAY,CAACI,OAAO,CAAC,SAAS,EAACR,QAAQ,CAACF,IAAI,CAACW,EAAE,CAAC;MAChDL,YAAY,CAACI,OAAO,CAAC,WAAW,EAAER,QAAQ,CAACF,IAAI,CAACW,EAAE,CAAC;MACnD;MACAC,MAAM,CAACC,QAAQ,GAAGX,QAAQ,CAACF,IAAI,CAACc,GAAG;IACvC,CAAC,QAAMC,GAAG,EAAC;MACPP,OAAO,CAACC,GAAG,CAACM,GAAG,CAAC;IACpB;EACJ,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,kBAAkB,GAAIC,SAAS,IAAK;EAC7C,OAAO,MAAOhB,QAAQ,IAAI;IACtB,IAAG;MACC,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACoB,GAAG,CAAE,sCAAqCD,SAAU,EAAC,EAAC,IAAI,EAAC;QACpFb,OAAO,EAAG;UACNC,aAAa,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;QAC/C;MACJ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACP,QAAQ,CAACF,IAAI,CAAC;MAC1BC,QAAQ,CAACkB,aAAa,CAACjB,QAAQ,CAACF,IAAI,CAAC,CAAC;IAC1C,CAAC,CACD,OAAMe,GAAG,EAAC;MACNP,OAAO,CAACC,GAAG,CAACM,GAAG,CAAC;IACpB;EACJ,CAAC;AACL,CAAC;AAGD,MAAMI,aAAa,GAAIR,EAAE,IAAG;EACxB,OAAO;IACHS,IAAI,EAAG,sBAAsB;IAC7BC,OAAO,EAAGV;EACd,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}