{"ast":null,"code":"import axios from 'axios';\nexport const startGetShop = ownerId => {\n  return async dispatch => {\n    try {\n      const response = await axios.get(`http://localhost:3009/api/shops/${ownerId}`, {\n        headers: {\n          Authorization: localStorage.getItem('token')\n        }\n      });\n      console.log(response.data);\n      dispatch(setShops(response.data));\n      // localStorage.setItem('shops', JSON.stringify(response.data));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nconst setShops = data => {\n  return {\n    type: 'SET_SHOP',\n    payload: data\n  };\n};\nexport const startCreateShop = formData => {\n  return async dispatch => {\n    try {\n      const response = await axios.post('http://localhost:3009/api/shops', formData, {\n        headers: {\n          Authorization: localStorage.getItem('token')\n        }\n      });\n      console.log(response.data);\n      console.log(formData);\n      dispatch(createShop(response.data));\n    } catch (err) {\n      console.log(err);\n      if (err.response && err.response.data) {\n        dispatch(setServerErrors(err.response.data.errors || []));\n      }\n    }\n  };\n};\nconst createShop = data => {\n  return {\n    type: 'ADD_SHOP',\n    payload: data\n  };\n};\nexport const startUpdateShop = (id, formData) => {\n  return async dispatch => {\n    try {\n      const response = await axios.put(`http://localhost:3009/api/shops/${id}`, formData, {\n        headers: {\n          Authorization: localStorage.getItem('token')\n        }\n      });\n      console.log(response.data);\n      dispatch(updateShop(response.data));\n    } catch (err) {\n      // console.log(err);\n      if (err.response && err.response.data) {\n        dispatch(setServerErrors(err.response.data.errors || []));\n      }\n    }\n  };\n};\nconst updateShop = data => {\n  return {\n    type: 'UPDATE_SHOP',\n    payload: data\n  };\n};\nexport const clearServerErrors = () => ({\n  type: 'CLEAR_SERVER_ERRORS'\n});\nexport const startRemoveShop = id => {\n  return async dispatch => {\n    try {\n      const response = await axios.delete(`http://localhost:3009/api/shops/${id}`, {\n        headers: {\n          Authorization: localStorage.getItem('token')\n        }\n      });\n      console.log(response.data);\n      dispatch(removeShop(id));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nconst removeShop = id => {\n  return {\n    type: 'REMOVE_SHOP',\n    payload: id\n  };\n};\nexport const setServerErrors = errors => ({\n  type: 'SET_SERVER_ERRORS',\n  payload: errors\n});","map":{"version":3,"names":["axios","startGetShop","ownerId","dispatch","response","get","headers","Authorization","localStorage","getItem","console","log","data","setShops","err","type","payload","startCreateShop","formData","post","createShop","setServerErrors","errors","startUpdateShop","id","put","updateShop","clearServerErrors","startRemoveShop","delete","removeShop"],"sources":["C:/Users/samiksha wagrekar/OneDrive/Documents/oct23 mern/ChitGem-app/frontend/my-app/src/Components/Actions/shops.js"],"sourcesContent":["import axios from 'axios'\r\nexport const startGetShop = (ownerId) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await axios.get(`http://localhost:3009/api/shops/${ownerId}`, {\r\n                headers: {\r\n                    Authorization: localStorage.getItem('token')\r\n                }\r\n            });\r\n            console.log(response.data);\r\n            dispatch(setShops(response.data));\r\n            // localStorage.setItem('shops', JSON.stringify(response.data));\r\n            \r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n};\r\nconst setShops = (data)=>{\r\n    return {\r\n        type : 'SET_SHOP',\r\n        payload : data\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const startCreateShop = (formData) => {\r\n    return async (dispatch) => {\r\n        try{\r\n            const response = await axios.post('http://localhost:3009/api/shops', formData,{\r\n                    headers : {\r\n                        Authorization : localStorage.getItem('token')\r\n                    }\r\n                });\r\n                console.log(response.data);\r\n                console.log(formData)\r\n                dispatch(createShop(response.data))\r\n        }\r\n        catch(err){\r\n            console.log(err);\r\n            if (err.response && err.response.data) {\r\n                dispatch(setServerErrors(err.response.data.errors || []));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst createShop = (data) => {\r\n    return {\r\n        type : 'ADD_SHOP',\r\n        payload : data\r\n    }\r\n}\r\n\r\nexport const startUpdateShop = (id,formData) => {\r\n    return async (dispatch) => {\r\n        try{\r\n            const response = await axios.put(`http://localhost:3009/api/shops/${id}`, formData,{\r\n                    headers : {\r\n                        Authorization : localStorage.getItem('token')\r\n                    }\r\n                });\r\n                console.log(response.data)\r\n                dispatch(updateShop(response.data))\r\n        }\r\n        catch(err){\r\n            // console.log(err);\r\n            if (err.response && err.response.data) {\r\n                dispatch(setServerErrors(err.response.data.errors || []));\r\n            }\r\n        }\r\n        \r\n    }\r\n}\r\n\r\nconst updateShop = (data) =>{\r\n    return{\r\n        type : 'UPDATE_SHOP',\r\n        payload : data\r\n    }\r\n}\r\n\r\nexport const clearServerErrors = () => ({\r\n    type: 'CLEAR_SERVER_ERRORS'\r\n})\r\n\r\nexport const startRemoveShop = (id) => {\r\n    return async (dispatch) => {\r\n        try{\r\n            const response = await axios.delete(`http://localhost:3009/api/shops/${id}`,{\r\n                    headers : {\r\n                        Authorization : localStorage.getItem('token')\r\n                    }\r\n                });\r\n                console.log(response.data)\r\n                dispatch(removeShop(id))\r\n        }\r\n        catch(err){\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nconst removeShop = (id) => {\r\n    return {\r\n        type : 'REMOVE_SHOP',\r\n        payload : id\r\n    }\r\n}\r\n\r\nexport const setServerErrors = (errors) => ({\r\n    type: 'SET_SERVER_ERRORS',\r\n    payload: errors\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}